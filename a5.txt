Script started on 2022-11-18 01:39:19-05:00
]0;shivam@sjsu:/mnt/scratch/shivam/A5[shivam@sjsu A5]$ historty[K[Ky -c
]0;shivam@sjsu:/mnt/scratch/shivam/A5[shivam@sjsu A5]$ vi author_to_tweeter.sh
[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;55r[?12h[?12l[27m[23m[29m[m[H[2J[?25l[55;1H"author_to_tweeter.sh" [New File][2;1Hâ–½[6n[2;1H  [1;1H[>c]10;?]11;?[2;1H[94m~                                                                                                                 [3;1H~                                                                                                                 [4;1H~                                                                                                                 [5;1H~                                                                                                                 [6;1H~                                                                                                                 [7;1H~                                                                                                                 [8;1H~                                                                                                                 [9;1H~                                                                                                                 [10;1H~                                                                                                                 [11;1H~                                                                                                                 [12;1H~                                                                                                                 [13;1H~                                                                                                                 [14;1H~                                                                                                                 [15;1H~                                                                                                                 [16;1H~                                                                                                                 [17;1H~                                                                                                                 [18;1H~                                                                                                                 [19;1H~                                                                                                                 [20;1H~                                                                                                                 [21;1H~                                                                                                                 [22;1H~                                                                                                                 [23;1H~                                                                                                                 [24;1H~                                                                                                                 [25;1H~                                                                                                                 [26;1H~                                                                                                                 [27;1H~                                                                                                                 [28;1H~                                                                                                                 [29;1H~                                                                                                                 [30;1H~                                                                                                                 [31;1H~                                                                                                                 [32;1H~                                                                                                                 [33;1H~                                                                                                                 [34;1H~                                                                                                                 [35;1H~                                                                                                                 [36;1H~                                                                                                                 [37;1H~                                                                                                                 [38;1H~                                                                                                                 [39;1H~                                                                                                                 [40;1H~                                                                                                                 [41;1H~                                                                                                                 [42;1H~                                                                                                                 [43;1H~                                                                                                                 [44;1H~                                                                                                                 [45;1H~                                                                                                                 [46;1H~                                                                                                                 [47;1H~                                                                                                                 [48;1H~                                                                                                                 [49;1H~                                                                                                                 [50;1H~                                                                                                                 [51;1H~                                                                                                                 [52;1H~                                                                                                                 [53;1H~                                                                                                                 [54;1H~                                                                                                                 [m[55;97H0,0-1[9CAll[1;1H[?25h[?12$p[?25l[55;1H[1m-- INSERT --[m[55;13H[K[55;97H0,1[11CAll[1;1H[34m#!/[?25h[?25l[m[34m[103mbin[m[34m/bash[m
[38;5;130mif [[m [38;5;130m-z[m [38;5;130m"[m[35m$1[m[38;5;130m"[m[2;13H[K[2;13H[?25h[?25l [38;5;130m]
then[m[3;5H[K[4;1H[K[4;1H[?25h[?25l[8C[?25h[?25l[38;5;130mecho[m[31m [m[38;5;130m"[m[35m\$[m[31m1 is empty: input fil[?25h[?25le of author with[?25h[?25l tweeter[m[38;5;130m"
else[m[5;5H[K[6;1H[K[6;1H[?25h[?25l[8C[38;5;130mif [[m [38;5;130m-z[m [38;5;130m"[m[35m$2[m[38;5;130m"[m [38;5;130m][m
        [38;5;130mthen[m[7;13H[K[8;1H [8;2H[K[8;2H[?25h[?25l[15C[38;5;130mecho[m[31m [m[38;5;130m"[m[35m\$[m[31m2 is empty: ou[?25h[?25ltput file[m[38;5;130m"[m
        [38;5;130melse[m[9;13H[K[10;1H                [38;5;130mif [[m [38;5;130m-z[m [38;5;130m"[m[35m$3[m[38;5;130m"[m [38;5;130m][m[10;31H[K[11;1H            [11;13H[K[11;13H[?25h[?25l    [38;5;130mthen[m
                        [38;5;130mecho[m[31m [m[38;5;130m"[m[35m\$[m[31m3 is empty: dataset is em[m[12;58H[K[12;58H[?25h[?25l[31mpty[m[38;5;130m"[m
                [38;5;130melse[m[13;21H[K[14;1H                                count_h[14;40H[K[14;40H[?25h[?25l[14;33H[36mcount_hashtags_entire_dataset[m=[35m$([m[35mwc -l hashtags.txt [?25h[?25l[m[38;5;130m|[m[35m awk -F [m[38;5;130m"[m[31m [m[38;5;130m"[m[35m [m[38;5;130m'[m[31m{print $1}[m[38;5;130m'[?25h[?25l[m[35m)[m
                        awk [38;5;130m-F[m [38;5;130m"[m[35m\t[m[38;5;130m"[m [38;5;130m'[m[31m{prin[m[15;43H[K[15;43H[?25h[?25l[31mt $4}[m[38;5;130m'[m [35m$3[m [38;5;130m|[m tr [38;5;130m'[m[31m,[m[38;5;130m'[m [38;5;130m'[?25h[?25l[m[31m\n[m[38;5;130m'[m [38;5;130m|[m tr [38;5;130m-d[m [38;5;130m'[m[31m\"[m[38;5;130m'[m   [38;5;130m|[m tr [38;5;130m'[m[31m[:upper:][m[38;5;130m'[m [38;5;130m'[m[31m[:low[?25h[?25ler:][m[38;5;130m'[m [38;5;130m|[m [38;5;130msee[16;1Hd[m [38;5;130m'[m[31m/^$/d[m[38;5;130m'|[m [38;5;130msort[m [38;5;130m|[m uniq [38;5;130m>[m temp.txt[16;34H[K[17;1H                        c[17;26H[K[17;26H[?25h[?25l[36mcount_hashtags_in_C[m=[35m$([m[35mwc -l temp.txt [m[38;5;130m|[m[35m awk -F [m[38;5;130m"[m[31m [m[38;5;130m"[m[35m [m[38;5;130m'[m[31m{print $1}[m[38;5;130m'[m[35m)[m
    [18;5H[K[18;5H[?25h[?25l[20Ccat temp.txt [38;5;130m|[m [38;5;130mwhile [m[35mIFS[m[38;5;130m= read -r hashtag
    [m[19;5H[K[19;5H[?25h[?25l[38;5;130m                    d[?25h[?25lo[m
                              [20;31H[K[20;31H[?25h[?25l  [36mcount_H_entire_dataset[m=$[?25h[?25l[35m$([m[38;5;130mgrep[m[35m -Pi [m[38;5;130m"[m[35m\t[m[35m$hashtag[m[35m\t[m[31m|[m[35m\"[m[35m$hashtag[m[31m,|,[m[35m$hashtag[m[31m,|[?25h[?25l,[m[35m$hashtag[m[35m\""[m[21;1H[38;5;130m"[m[35m downloaded_tweets_extend_orig[m[21;32H[K[21;32H[?25h[?25l[35minal_nolf2_NOBOT.tsv [m[38;5;130m|[m[35m wc -l[m[35m)[m
                 [22;18H[K[22;18H[?25h[?25l[15C[36mcount_H_in_C[m=[35m$([m[38;5;130mgrep[m[35m -Pi [m[38;5;130m"[m[35m\t[m[35m$has[?25h[?25lhtag[m[35m\t[m[31m|[m[35m\"[m[35m$hashtag[m[31m,|,[m[35m$hashta[?25h[?25lg[m[31m,|,[m[35m$hashtag[m[35m\"[m[38;5;130m"[m[35m [m[35m$3[m[35m [m[38;5;130m|[m[35m wc  [23;1H-l[m[35m)[m[23;4H[K[24;1H                         [24;26H[K[24;26H[?25h[?25l[7Cfrequency_H[?25h[?25l[24;33H[36mfrequency_H_overall[m=[35m$([m[35mbc [m[38;5;130m<<<[m[35m [?25h[?25l[m[38;5;130m"[m[31mscale=6;[m[35m$count_H_e[?25h[?25lntire_dataset[m[31m/[m[35m$count_hashtags_entii[25;1Hre[m[25;3H[K[25;3H[?25h[?25l[35m_dataset[m[38;5;130m"[m[35m)[m
                                [36mfrequency_H_in_C[m=[35m$([m[35mbc [m[38;5;130m<<<[m[26;58H[K[26;58H[?25h[?25l[35m [m[38;5;130m"[m[31mscale=6;[m[35m$count_H_in_C[m[31m/[m[35m$count_hashtags_in_[?25h[?25lC[m[38;5;130m"[m[35m)[m
                                re[27;35H[K[27;35H[?25h[?25l[36mrelative_frequency_H_C[m=[35m$([m[35mbc [m[38;5;130m<<<[m[35m [m[38;5;130m"[m[31mscale=6;[m[35m$frequency_H_in_C[m[31m/[m[35m$fr[?25h[?25lequency_H_overall[m[38;5;130m"[m[35m)[m
                         [28;26H[K[28;26H[?25h[?25l[7C[36mcluster_C_leader[m=[35m$([m[38;5;130mgrep[m[35m -Pi [m[38;5;130m"[m[35m\t[m[35m$hashtag[m[35m\t[m[31m|[m[35m\"[m[35m$hashtag[m[31m,|,[m[35m$hash[?25h[?25ltag[m[31m,|,[m[35m$hashtag[m[35m\"[m[38;5;130m"[m[35m [m[35m$3[m[38;5;130m|[m[35m  [29;1Hawk -F [m[38;5;130m"[m[35m\t[m[38;5;130m"[m[35m [m[38;5;130m'[m[31m{print $2}[m[38;5;130m'[m[35m [m[38;5;130m|[m[35m [m[38;5;130msort[m[35m [m[38;5;130m|[m[35m uniq -c [m[38;5;130m|[m[35m [m[29;45H[K[29;45H[?25h[?25l[38;5;130msort[m[35m -nr [m[38;5;130m|[m[35m awk -F [m[38;5;130m"[m[31m [m[38;5;130m"[m[35m [m[38;5;130m'[m[31m{print $2}[m[38;5;130m'[m[35m [m[38;5;130m|[m[35m head -n [m[31m1[m[35m)[m
                 [30;18H[K[30;18H[?25h[?25l[15C[38;5;130mecho[m[31m -e [m[38;5;130m"[m[35m$hashtag[m[35m\t[m[35m$cluster_C_leader[m[35m\t[m[35m$relative_f[?25h[?25lrequency_H_C[m[35m\t[m[35m$frequency_H_in[?25h[?25l_C[m[35m\tt[m[31;1H[35m$frequency_H_overall[m[35m\t[m[35m$count_H_in_C[m[35m\t[m[35m$count_hashta[m[31;51H[K[31;51H[?25h[?25l[35mgs_in_C[m[35m\t[m[35m$count_H_entire_dataset[m[35m\t[m[35m$count_hashtags_entire_[?25h[?25ldatasett[m[32;1H[38;5;130m"[m[31m [m[38;5;130m>>[m [35m$2[m[32;8H[K[33;1H                        [38;5;130mdone[m[33;29H[K[34;1H               [34;16H[K[34;16H[?25h[?25l[55;1H[K[34;25H[38;5;130mrm[m temp.txt
                [38;5;130mfi[m[35;19H[K[36;1H        [38;5;130mfi[m[36;11H[K[37;1H[38;5;130mfi[m[37;3H[K[55;97H30,2[10CAll[37;2H[?25h[?25l[55;87H^[[37;2H[55;87H  [37;2H[55;87H^[[37;2H[55;87H  [37;2H[?25h[?25l[55;87H:[37;2H[55;87H[K[55;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h![?25l[?25h[?25l[?2004l"author_to_tweeter.sh" [New] 30L, 1950C written
[?2004l[?1l>[?25h[?1049l[23;0;0t]0;shivam@sjsu:/mnt/scratch/shivam/A5[shivam@sjsu A5]$ chmod 777 author_to_tweeter.sh
]0;shivam@sjsu:/mnt/scratch/shivam/A5[shivam@sjsu A5]$ echo -e "hashtag_H\tcluster_C_leader(userID)\trelative_frequency_H_C\tfrequency_H_in_C\tfrequencyy_H_overall\tcount_H_in_C\tcount_hashtags_in_C\tcount_H_entire_dataset\tcount_hashtags_entire_dataset retweets_hashhtag_freqs.tsv" > retweets_hashtag_freqs.tsv
]0;shivam@sjsu:/mnt/scratch/shivam/A5[shivam@sjsu A5]$ cat retweets_hashtag_freqs.tsv > replies_hashtag_freqs.tsv
($2 in]0;shivam@sjsu:/mnt/scratch/shivam/A5[shivam@sjsu A5]$ 
]0;shivam@sjsu:/mnt/scratch/shivam/A5[shivam@sjsu A5]$ 
]0;shivam@sjsu:/mnt/scratch/shivam/A5[shivam@sjsu A5]$ awk -F "\t" 'NR==FNR {id[$2]=$1; id[$1]=$2; next } ($2 in id && $6 in id) {print $0}' 3_or_more_rreplies.tsv downloaded_tweets_extend_original_nolf2_NOBOT.tsv > replies_in_C
t" '{print $4}' downloaded_tweets_extend_original_nolf2_NOBOT.tsv | tr ',' '\n' | tr -d '\"'   | tr '[:upper:]' '[:lower:]' | sed '/^$/d'| sort | uniq > hashtags.txt]0;shivam@sjsu:/mnt/scratch/shivam/A5[shivam@sjsu A5]$ 
]0;shivam@sjsu:/mnt/scratch/shivam/A5[shivam@sjsu A5]$ awk -F "\t" '{print $4}' downloaded_tweets_extend_original_nolf2_NOBOT.tsv | tr ',' '\n' | tr -d  '\"'   | tr '[:upper:]' '[:lower:]' | sed '/^$/d'| sort | uniq > hashtags.txt
]0;shivam@sjsu:/mnt/scratch/shivam/A5[shivam@sjsu A5]$ ./author_to_tweeter.sh 3_or_more_replies replies_hashtag_freqs.tsv replies_in_C
]0;shivam@sjsu:/mnt/scratch/shivam/A5[shivam@sjsu A5]$ sort -nrk 3 replies_hashtag_freqs.tsv | head -n 5
solidaritÃ¤tmitkarl	877968869138329601	25.390909	.002793	.000110	2	716	2	18162
poems	1497454353090809860	25.390909	.002793	.000110	2	716	2	18162
oz	3270007519	25.390909	.002793	.000110	2	716	2	18162
kindleunlimited	1497454353090809860	25.390909	.002793	.000110	2	716	2	18162
godslaw	4830874006	25.390909	.002793	.000110	2	716	2	18162
]0;shivam@sjsu:/mnt/scratch/shivam/A5[shivam@sjsu A5]$ grep retweeted downloaded_tweets_extend_nolf2_NOBOT.tsv | sed "s/\[<ReferencedTweet id=//g" | sedd "s/ type=retweeted\]//g" | awk -F '\t' '{print $1 "\t" $5}' | sort | uniq > rtID_to_ogID.tsv 
sv > retweeted_ids.txt
fgrep -f retweeted_ids.txt downloaded_tweets_extend_original_nolf2_NOBOT.tsv | awk -F "\t" '{print $2}' > userids_retweets3_fgrep.txt

fgrep -f userids_retweets3_fgrep.txt downloaded_tweets_extend_original_nolf2_NOBOT.tsv  | cut -f 1,2 > ogID_to_userID.tsv


awk -F "\t" '{print $1}' ogID_to_userID.tsv > original_tweet_ID
grep retweeted downloaded_tweets_extend_nolf2_NOBOT.tsv | sed "s/\[<ReferencedTweet id=//g" | sed "s/ type=retweeted\]//g" | grep -Ff original_tweet_ID > all_retweeted_tweets
tail -n +2 original_tweet_ID > original_tweet_ID

awk -F "\t" 'NR==FNR {id[$1]=$1; id[$2]=$2; next } ($5 in id) {$5 = id[$2]; print $1 "\t" $2 "\t" $3 "\t" $4 "\t" $5}' ogID_to_userID.tsv all_retweeted_tweets > rt_auth.tsv

awk -F "\t" 'NR==FNR {id[$1]=$1; id[$2]=$2; next } ($5 in id && $2 in id) {print $1 "\t" $2 "\t" $3 "\t" $4 "\t" $5}' 3_or_more_retweets.tsv rt_auth.tsv > retweets_in_C]0;shivam@sjsu:/mnt/scratch/shivam/A5[shivam@sjsu A5]$ cut -f 2 rtID_to_ogID.tsv > retweeted_ids.txt
]0;shivam@sjsu:/mnt/scratch/shivam/A5[shivam@sjsu A5]$ fgrep -f retweeted_ids.txt downloaded_tweets_extend_original_nolf2_NOBOT.tsv | awk -F "\t" '{prinnt $2}' > userids_retweets3_fgrep.txt
]0;shivam@sjsu:/mnt/scratch/shivam/A5[shivam@sjsu A5]$ 
]0;shivam@sjsu:/mnt/scratch/shivam/A5[shivam@sjsu A5]$ fgrep -f userids_retweets3_fgrep.txt downloaded_tweets_extend_original_nolf2_NOBOT.tsv  | cut -f  1,2 > ogID_to_userID.tsv
]0;shivam@sjsu:/mnt/scratch/shivam/A5[shivam@sjsu A5]$ 
]0;shivam@sjsu:/mnt/scratch/shivam/A5[shivam@sjsu A5]$ 
]0;shivam@sjsu:/mnt/scratch/shivam/A5[shivam@sjsu A5]$ awk -F "\t" '{print $1}' ogID_to_userID.tsv > original_tweet_ID
]0;shivam@sjsu:/mnt/scratch/shivam/A5[shivam@sjsu A5]$ grep retweeted downloaded_tweets_extend_nolf2_NOBOT.tsv | sed "s/\[<ReferencedTweet id=//g" | sedd "s/ type=retweeted\]//g" | grep -Ff original_tweet_ID > all_retweeted_tweets
]0;shivam@sjsu:/mnt/scratch/shivam/A5[shivam@sjsu A5]$ tail -n +2 original_tweet_ID > original_tweet_ID
]0;shivam@sjsu:/mnt/scratch/shivam/A5[shivam@sjsu A5]$ 
]0;shivam@sjsu:/mnt/scratch/shivam/A5[shivam@sjsu A5]$ awk -F "\t" 'NR==FNR {id[$1]=$1; id[$2]=$2; next } ($5 in id) {$5 = id[$2]; print $1 "\t" $2 "\t"" $3 "\t" $4 "\t" $5}' ogID_to_userID.tsv all_retweeted_tweets > rt_auth.tsv
]0;shivam@sjsu:/mnt/scratch/shivam/A5[shivam@sjsu A5]$ 
]0;shivam@sjsu:/mnt/scratch/shivam/A5[shivam@sjsu A5]$ awk -F "\t" 'NR==FNR {id[$1]=$1; id[$2]=$2; next } ($5 in id && $2 in id) {print $1 "\t" $2 "\t"  $3 "\t" $4 "\t" $5}' 3_or_more_retweets.tsv rt_auth.tsv > retweets_in_C
]0;shivam@sjsu:/mnt/scratch/shivam/A5[shivam@sjsu A5]$ head -n 10[K[K5 re[K[K[K[K2 retweets_in_C 
1520436665797517312	1921951394	2022-04-30 16:15:24+00:00		1921951394
1520230313187758082	1921951394	2022-04-30 02:35:25+00:00	IdahoGOP	1921951394
]0;shivam@sjsu:/mnt/scratch/shivam/A5[shivam@sjsu A5]$ ./author_to_tweeter.sh 3_or_more_retweets.tsv retweets_hashtag_freqs.tsv retweets_in_C
]0;shivam@sjsu:/mnt/scratch/shivam/A5[shivam@sjsu A5]$ sort -nrk 3 retweets_hashtag_freqs.tsv | head -n 5
thankyoutom	1921951394	11.254545	.000619	.000055	2	3227	1	18162
sometimesyourgcomeout	1921951394	11.254545	.000619	.000055	2	3227	1	18162
shameonrebuplicans	1921951394	11.254545	.000619	.000055	2	3227	1	18162
sendstingers	1921951394	11.254545	.000619	.000055	2	3227	1	18162
sendjavelins	1921951394	11.254545	.000619	.000055	2	3227	1	18162
]0;shivam@sjsu:/mnt/scratch/shivam/A5[shivam@sjsu A5]$ history > cmds.log
]0;shivam@sjsu:/mnt/scratch/shivam/A5[shivam@sjsu A5]$ exit

Script done on 2022-11-18 01:44:24-05:00
